doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    title Pasadena Carpool Signups
    script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.min.js')
    script(src='//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.3/angular-route.min.js')
    script(src='//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js')
    link(rel='stylesheet', href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css')
    script(src='//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js')
    script(src='js/highlight.js')
    link(rel='stylesheet', href='css/formstyle.css')
  body
    div
      div
        nav.navbar.navbar-inverse(role='navigation', style='padding-left:130px;')
          ul.nav.navbar-nav
            li.active
              a(href='/') Home
            li
              a(href='/schedule') Schedule
            li
              a(href='/czar') Czar
            li
              a(href='/newUser') Add New User
            li
              a(href='/logout') Logout
      br
      .container.theme-showcase(role='main')
        h1
          | Your times
        form#timeForm(method='POST', action='/times', onsubmit='submitForm();')
          .form-group
            label(for='name') Name
            input#name.form-control(type='text', name='name', placeholder='Isabella Lai', required, style="width: auto;")
          .form-group
            label(for='email') Email Address
            input.form-control(type='email', name='email', placeholder='iLai@hmc.edu', required, style="width: auto;")
            span.help-block Email will be used to contact you with your carpool assignment
          .form-group
            label(for='numPassengers') Number of People You Can Drive
            input.form-control(type='number', name='numPassengers', value='0', required, style="width: auto;")
            span.help-block Include yourself. Put 0 if you are unable or unwilling to drive
          .form-group
            label Drag over the gray boxes below to paint over the times when you want to leave.

            #alltimeinputs
              each dayData in peoplesTimes
                h3= dayData.day
                label.radio-inline
                  input(type='radio', name=dayData.day + 'DriveStatus', value='must')
                  | Must Drive
                label.radio-inline
                  input(type='radio', name=dayData.day + 'DriveStatus', value='can', checked)
                  | Can drive
                label.radio-inline
                  input(type='radio', name=dayData.day + 'DriveStatus', value='cannot')
                  | Cannot drive
                label.radio-inline
                  input(type='radio', name=dayData.day + 'DriveStatus', value='cannot')
                  | Not In Carpool
                each AMPMData in dayData.times
                  - AMPM = AMPMData.halfday
                  h4= AMPM
                  table.timetable
                    tr.timetext
                      td
                      each hr in possibleDriveHours[AMPM]
                        td.hour(colspan='2')= hr
                        td.halfhour(colspan='2') :30
                      td
                    tr(class='timeinput' id='timeinput'+dayData.day+AMPM)
                      td.name You
                      each hr,hrIdx in possibleDriveHours[AMPM]
                        each increment in [0, 15, 30, 45]
                          td(id=dayData.day+AMPM+(hr*100+increment), selected='false', leftLine=(hrIdx != 0 && increment == 0))
                    each personData in AMPMData.people
                      tr(class='timeview')
                        td.name= personData.name
                        each hr,hrIdx in possibleDriveHours[AMPM]
                          each min,minIdx in [0, 15, 30, 45]
                            td(id=dayData.day+AMPM+(hr*100), selected=(personData.canGos[hrIdx*4+minIdx].canGo.toString()), leftLine=(hrIdx != 0 && min == 0), carstatus='unassigned', mousedover='false')
                        unless personData.driveStatus == 'can'
                          td.driveStatus= personData.driveStatus + ' drive'

          .form-group
            label(for='notes') Notes
            input#notes.form-control(type='notes', name='notes')
          each day in weekdays
            each AMPM in ['AM', 'PM']
              - nm = day+AMPM+'Times'
              input(id=nm, type='hidden', name=nm)

          button.btn.btn-default(type='submit', onClick='return validateForm();') Submit
